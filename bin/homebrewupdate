#!/bin/sh
#
# Check for homebrew updates and notify you
#
# http://codeworkshop.net/posts/notification-center-updates-for-homebrew

notifier=/Applications/terminal-notifier.app/Contents/MacOS/terminal-notifier

# Give the network a chance to connect
sleep 10

brew update > /dev/null 2>&1
outdated=`brew outdated | sort | tr '\n' ' '`

if [ ! -z "$outdated" ]; then
    $notifier \
        -group net.codeworkshop.homebrewupdate \
        -title "Homebrew Updates Available" \
        -message "$outdated" \
        -activate com.apple.Terminal > /dev/null 2>&1
fi